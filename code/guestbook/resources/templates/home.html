<!--
 ! Excerpted from "Web Development with Clojure, Second Edition",
 ! published by The Pragmatic Bookshelf.
 ! Copyrights apply to this code. It may not be used to create training material,
 ! courses, books, articles, and the like. Contact us if you are in doubt.
 ! We make no guarantees that this code is fit for any purpose.
 ! Visit http://www.pragmaticprogrammer.com/titles/dswdcloj2 for more book information.
-->
{% extends "base.html" %}
{% block content %}
<div class="row">
    <div class="span12">
        <ul class="content">
            {% for item in messages %}
            <li>
                <time>{{item.timestamp|date:"yyyy-MM-dd HH:mm"}}</time>
                <p>{{item.message}}</p>
                <p> - {{item.name}}</p>
            </li>
            {% endfor %}
        </ul>
    </div>
</div>
<div class="row">
    <div class="span12">
        <form method="POST" action="/message">
            <div class="form-group">
            {% csrf-field %}
            <p>
                Name:
                <input class="form-control"
                       type="text"
                       name="name"
                       value="" />
            </p>
            <p>
                Message:
                <textarea class="form-control"
                          rows="4"
                          cols="50"
                          name="message"></textarea>
            </p>
            <input type="submit" class="btn btn-primary" value="comment" />
            </div>
        </form>
    </div>
</div>
{% endblock %}
